<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=yes">
    <title>Anagh Financial Consultancy | AI-Powered Financial Solutions</title>
    
    <!-- Meta Tags -->
    <meta name="description" content="AI-driven Insurance, Mutual Funds & Loan Consultancy with personalized financial planning">
    <meta name="keywords" content="financial advisor, AI investment, insurance, mutual funds, loans, fintech">
    <meta name="robots" content="index, follow">
    
    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="https://cdn-icons-png.flaticon.com/512/3135/3135715.png">
    
    <!-- Your Original CSS -->
    <link rel="stylesheet" href="style.css">
    
    <style>
        /* ========================================
           ADD THESE STYLES TO FIX CHATBOT VISIBILITY
           ======================================== */
        
        .chat-messages {
            max-height: 350px;
            overflow-y: auto;
            padding: 20px;
            background: #f8fafc;
        }
        
        .message {
            margin-bottom: 15px;
            display: flex;
            flex-direction: column;
        }
        
        .bot-message {
            align-items: flex-start;
        }
        
        .user-message {
            align-items: flex-end;
        }
        
        .bot-message .message-content {
            background: white;
            color: #1e293b;
            padding: 12px 16px;
            border-radius: 18px;
            border-bottom-left-radius: 5px;
            max-width: 85%;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            border: 1px solid #e2e8f0;
        }
        
        .user-message .message-content {
            background: linear-gradient(135deg, #0b1c2d, #2962ff);
            color: white;
            padding: 12px 16px;
            border-radius: 18px;
            border-bottom-right-radius: 5px;
            max-width: 85%;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .message-time {
            font-size: 0.7rem;
            color: #64748b;
            margin-top: 4px;
            margin-left: 8px;
        }
        
        .user-message .message-time {
            margin-right: 8px;
            text-align: right;
        }
        
        /* Typing Indicator */
        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 4px;
            padding: 12px 16px;
            background: white;
            border-radius: 18px;
            border-bottom-left-radius: 5px;
            width: fit-content;
            border: 1px solid #e2e8f0;
        }
        
        .typing-indicator span {
            width: 8px;
            height: 8px;
            background: #2962ff;
            border-radius: 50%;
            display: inline-block;
            animation: typing 1.4s infinite;
        }
        
        .typing-indicator span:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .typing-indicator span:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); opacity: 0.6; }
            30% { transform: translateY(-6px); opacity: 1; }
        }
        
        /* Quick Actions */
        .quick-actions {
            display: flex;
            gap: 10px;
            padding: 15px;
            background: white;
            border-top: 1px solid #e2e8f0;
            overflow-x: auto;
            white-space: nowrap;
            -webkit-overflow-scrolling: touch;
        }
        
        .quick-action-btn {
            padding: 10px 18px;
            background: #f1f5f9;
            border: 1px solid #e2e8f0;
            border-radius: 50px;
            font-size: 0.85rem;
            font-weight: 500;
            color: #0b1c2d;
            display: flex;
            align-items: center;
            gap: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            flex-shrink: 0;
        }
        
        .quick-action-btn:hover {
            background: #e2e8f0;
        }
        
        .quick-action-btn i {
            color: #2962ff;
        }
        
        /* Calculator Fixes */
        .calculator-result .result-value {
            font-size: 1.5rem;
            font-weight: 700;
        }
        
        /* Mobile Optimizations */
        @media (max-width: 768px) {
            .ai-chatbot {
                height: auto;
                min-height: 550px;
            }
            
            .chat-messages {
                max-height: 300px;
            }
            
            .chat-input input {
                font-size: 16px !important;
            }
            
            .quick-actions {
                padding: 12px;
            }
            
            .quick-action-btn {
                padding: 8px 14px;
                font-size: 0.8rem;
            }
        }
    </style>
</head>

<body>
    <!-- Header -->
    <header id="mainHeader">
        <div class="logo-container">
            <div class="logo">
                <i class="fas fa-chart-line"></i>
                <span class="logo-text">Anagh Financial</span>
            </div>
        </div>
        
        <button class="mobile-menu-btn" id="mobileMenuBtn">
            <i class="fas fa-bars"></i>
        </button>
        
        <nav class="nav-links" id="navLinks">
            <a href="#home" class="active">Home</a>
            <a href="#services">Services</a>
            <a href="#ai-assistant">AI Assistant</a>
            <a href="#loan-calculator">Calculators</a>
            <a href="#ai-predictor">Investment</a>
            <a href="#testimonials">Testimonials</a>
            <a href="#contact">Contact</a>
            <a href="#contact" class="nav-cta">
                <i class="fas fa-comment-alt"></i> Free Consultation
            </a>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="hero-content reveal">
            <div class="ai-badge">
                <i class="fas fa-robot"></i> AI-Powered Financial Advisor
            </div>
            <h1>Smart Financial Planning with Artificial Intelligence</h1>
            <p class="hero-subtitle">Get personalized investment strategies, risk analysis, and financial recommendations powered by advanced AI algorithms</p>
            
            <div class="hero-features">
                <div class="feature-item">
                    <i class="fas fa-shield-alt"></i>
                    <span>AI Risk Assessment</span>
                </div>
                <div class="feature-item">
                    <i class="fas fa-bolt"></i>
                    <span>Real-time Portfolio Analysis</span>
                </div>
                <div class="feature-item">
                    <i class="fas fa-chart-pie"></i>
                    <span>Personalized Investment Plans</span>
                </div>
            </div>
            
            <div class="hero-buttons">
                <button class="btn-primary" onclick="goContact()">
                    <i class="fas fa-calendar-check"></i> Book Free Consultation
                </button>
                <button class="btn-secondary" onclick="goToAI()">
                    <i class="fas fa-robot"></i> Try AI Assistant
                </button>
            </div>
        </div>
    </section>

    <!-- AI Assistant Section - ENHANCED WITH QUICK ACTIONS -->
    <section class="ai-assistant" id="ai-assistant">
        <div class="section-header reveal">
            <h2>AI Financial Assistant</h2>
            <p>Get instant answers to your financial questions with our intelligent chatbot</p>
        </div>
        
        <div class="ai-container">
            <div class="ai-chatbot reveal">
                <div class="chat-header">
                    <i class="fas fa-robot"></i>
                    <div>
                        <h3>Super AI Assistant</h3>
                        <p><i class="fas fa-circle" style="color: #00c853; font-size: 10px;"></i> Online ‚Ä¢ Powered by AI</p>
                    </div>
                </div>
                
                <!-- Messages Container -->
                <div class="chat-messages" id="chatMessages">
                    <div class="message bot-message">
                        <div class="message-content">
                            üëã <strong>Hello! I'm your AI Financial Assistant!</strong>
                            <br><br>
                            I can help you with:
                            <br><br>
                            üè† <strong>Home Loans</strong> - EMI, rates, SBI vs HDFC<br>
                            üí∞ <strong>SIP Calculator</strong> - Returns for any amount<br>
                            üìã <strong>Tax Planning</strong> - 80C, 80D, home loan benefits<br>
                            üõ°Ô∏è <strong>Insurance</strong> - Term, health, retirement<br>
                            üìä <strong>Credit Score</strong> - Check & improve
                            <br><br>
                            <strong>Try asking me anything! üí¨</strong>
                        </div>
                        <div class="message-time">Just now</div>
                    </div>
                </div>
                
                <!-- Quick Actions -->
                <div class="quick-actions">
                    <button class="quick-action-btn" onclick="sendQuickMessage('home loan rates')">
                        <i class="fas fa-home"></i> Home Loan Rates
                    </button>
                    <button class="quick-action-btn" onclick="sendQuickMessage('sip calculator for 10000 for 15 years')">
                        <i class="fas fa-chart-line"></i> SIP ‚Çπ10k/15y
                    </button>
                    <button class="quick-action-btn" onclick="sendQuickMessage('compare SBI and HDFC')">
                        <i class="fas fa-scale-balanced"></i> SBI vs HDFC
                    </button>
                    <button class="quick-action-btn" onclick="sendQuickMessage('tax saving guide')">
                        <i class="fas fa-file-invoice"></i> Tax Saving
                    </button>
                    <button class="quick-action-btn" onclick="sendQuickMessage('credit score')">
                        <i class="fas fa-star"></i> Credit Score
                    </button>
                </div>
                
                <!-- Chat Input -->
                <div class="chat-input">
                    <input type="text" id="chatInput" placeholder="Ask about home loans, SIP, tax saving...">
                    <button id="sendMessage">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
            
            <div class="ai-features">
                <div class="ai-feature reveal">
                    <i class="fas fa-brain"></i>
                    <h3>Intelligent Analysis</h3>
                    <p>Our AI analyzes market trends, your risk profile, and financial goals to provide personalized advice.</p>
                </div>
                
                <div class="ai-feature reveal">
                    <i class="fas fa-lock"></i>
                    <h3>Secure & Private</h3>
                    <p>All your financial data is encrypted and never shared with third parties. Your privacy is our priority.</p>
                </div>
                
                <div class="ai-feature reveal">
                    <i class="fas fa-sync-alt"></i>
                    <h3>24/7 Availability</h3>
                    <p>Get financial advice anytime, anywhere. Our AI assistant never sleeps and is always ready to help.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Services Section -->
    <section class="services" id="services">
        <div class="section-header reveal">
            <h2>Our AI-Enhanced Services</h2>
            <p>Combining human expertise with artificial intelligence for optimal financial solutions</p>
        </div>
        
        <div class="services-grid">
            <div class="service-card reveal">
                <div class="service-icon">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <div class="service-content">
                    <h3>AI-Powered Insurance</h3>
                    <p>Get personalized insurance recommendations based on AI analysis of your lifestyle, health data, and risk factors.</p>
                    
                    <ul class="service-features">
                        <li><i class="fas fa-check"></i> AI risk assessment</li>
                        <li><i class="fas fa-check"></i> Premium optimization</li>
                        <li><i class="fas fa-check"></i> Coverage analysis</li>
                        <li><i class="fas fa-check"></i> Claim prediction</li>
                    </ul>
                    
                    <a href="#contact" class="service-cta">
                        Get Quote <i class="fas fa-arrow-right"></i>
                    </a>
                </div>
            </div>
            
            <div class="service-card reveal">
                <div class="service-icon">
                    <i class="fas fa-chart-line"></i>
                </div>
                <div class="service-content">
                    <h3>Smart Mutual Funds</h3>
                    <p>AI-driven portfolio management with real-time market analysis and automated rebalancing.</p>
                    
                    <ul class="service-features">
                        <li><i class="fas fa-check"></i> AI portfolio builder</li>
                        <li><i class="fas fa-check"></i> Predictive analytics</li>
                        <li><i class="fas fa-check"></i> Risk-adjusted returns</li>
                        <li><i class="fas fa-check"></i> Tax optimization</li>
                    </ul>
                    
                    <a href="#ai-predictor" class="service-cta">
                        Start Investing <i class="fas fa-arrow-right"></i>
                    </a>
                </div>
            </div>
            
            <div class="service-card reveal">
                <div class="service-icon">
                    <i class="fas fa-hand-holding-usd"></i>
                </div>
                <div class="service-content">
                    <h3>Intelligent Loan Solutions</h3>
                    <p>AI-powered loan matching with the best interest rates and personalized repayment plans.</p>
                    
                    <ul class="service-features">
                        <li><i class="fas fa-check"></i> Credit score analysis</li>
                        <li><i class="fas fa-check"></i> Rate comparison</li>
                        <li><i class="fas fa-check"></i> EMI optimization</li>
                        <li><i class="fas fa-check"></i> Eligibility prediction</li>
                    </ul>
                    
                    <a href="#loan-calculator" class="service-cta">
                        Check Eligibility <i class="fas fa-arrow-right"></i>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Advanced Loan Calculator -->
    <section class="loan-calculator" id="loan-calculator">
        <div class="section-header reveal">
            <h2>Advanced Financial Calculators</h2>
            <p>Detailed calculations for loans, SIP, and financial planning</p>
        </div>
        
        <div class="calculator-container">
            <div class="calculator-tabs">
                <button class="tab-btn active" onclick="showCalculator('home-loan')">
                    <i class="fas fa-home"></i> Home Loan
                </button>
                <button class="tab-btn" onclick="showCalculator('sip')">
                    <i class="fas fa-chart-line"></i> SIP Calculator
                </button>
                <button class="tab-btn" onclick="showCalculator('emi')">
                    <i class="fas fa-calculator"></i> EMI Calculator
                </button>
            </div>
            
            <!-- Home Loan Calculator -->
            <div class="calculator-content active" id="home-loan-calc">
                <h3>Home Loan Calculator</h3>
                <div class="calculator-form">
                    <div class="form-group">
                        <label for="loanAmount">Loan Amount (‚Çπ)</label>
                        <input type="number" id="loanAmount" value="5000000" min="100000" step="50000">
                        <div class="range-slider">
                            <input type="range" id="loanAmountRange" min="100000" max="50000000" value="5000000" step="50000">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="loanTenure">Loan Tenure (Years)</label>
                        <input type="number" id="loanTenure" value="20" min="1" max="30">
                        <div class="range-slider">
                            <input type="range" id="loanTenureRange" min="1" max="30" value="20">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="interestRate">Interest Rate (%)</label>
                        <input type="number" id="interestRate" value="8.5" min="6" max="15" step="0.1">
                        <div class="rate-options">
                            <button type="button" class="rate-btn" onclick="setInterestRate(8.4)">SBI: 8.4%</button>
                            <button type="button" class="rate-btn" onclick="setInterestRate(8.5)">HDFC: 8.5%</button>
                            <button type="button" class="rate-btn" onclick="setInterestRate(8.6)">ICICI: 8.6%</button>
                            <button type="button" class="rate-btn" onclick="setInterestRate(8.45)">LIC: 8.45%</button>
                        </div>
                    </div>
                    
                    <button class="btn-primary" onclick="calculateHomeLoan()">
                        <i class="fas fa-calculator"></i> Calculate EMI
                    </button>
                </div>
                
                <div class="calculator-result" id="homeLoanResult">
                    <div class="result-card">
                        <h4>Monthly EMI</h4>
                        <div class="result-value" id="emiAmount">‚Çπ43,391</div>
                    </div>
                    <div class="result-card">
                        <h4>Total Interest</h4>
                        <div class="result-value" id="totalInterest">‚Çπ54.14L</div>
                    </div>
                    <div class="result-card">
                        <h4>Total Payment</h4>
                        <div class="result-value" id="totalPayment">‚Çπ1.04Cr</div>
                    </div>
                </div>
                
                <div class="bank-comparison">
                    <h4>Bank Comparison</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>Bank</th>
                                <th>Interest Rate</th>
                                <th>Processing Fee</th>
                                <th>EMI for ‚Çπ50L</th>
                            </tr>
                        </thead>
                        <tbody id="bankComparisonBody">
                            <tr>
                                <td>SBI</td>
                                <td>8.40%</td>
                                <td>0.35%</td>
                                <td id="sbiEMI">‚Çπ43,013</td>
                            </tr>
                            <tr>
                                <td>HDFC</td>
                                <td>8.50%</td>
                                <td>0.50%</td>
                                <td id="hdfcEMI">‚Çπ43,391</td>
                            </tr>
                            <tr>
                                <td>ICICI</td>
                                <td>8.60%</td>
                                <td>0.50%</td>
                                <td id="iciciEMI">‚Çπ43,772</td>
                            </tr>
                            <tr>
                                <td>Axis</td>
                                <td>8.55%</td>
                                <td>0.40%</td>
                                <td id="axisEMI">‚Çπ43,582</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- SIP Calculator -->
            <div class="calculator-content" id="sip-calc">
                <h3>SIP Calculator</h3>
                <div class="calculator-form">
                    <div class="form-group">
                        <label for="sipAmount">Monthly SIP Amount (‚Çπ)</label>
                        <input type="number" id="sipAmount" value="10000" min="500" step="1000">
                        <div class="range-slider">
                            <input type="range" id="sipAmountRange" min="500" max="100000" value="10000" step="1000">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="sipTenure">Investment Period (Years)</label>
                        <input type="number" id="sipTenure" value="15" min="1" max="40">
                        <div class="range-slider">
                            <input type="range" id="sipTenureRange" min="1" max="40" value="15">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="sipReturn">Expected Return (%)</label>
                        <input type="number" id="sipReturn" value="12" min="5" max="20" step="0.1">
                        <div class="rate-options">
                            <button type="button" class="rate-btn" onclick="setSIPReturn(10)">Conservative: 10%</button>
                            <button type="button" class="rate-btn" onclick="setSIPReturn(12)">Moderate: 12%</button>
                            <button type="button" class="rate-btn" onclick="setSIPReturn(15)">Aggressive: 15%</button>
                        </div>
                    </div>
                    
                    <button class="btn-primary" onclick="calculateSIP()">
                        <i class="fas fa-calculator"></i> Calculate SIP Returns
                    </button>
                </div>
                
                <div class="calculator-result" id="sipResult">
                    <div class="result-card">
                        <h4>Total Investment</h4>
                        <div class="result-value" id="totalInvestment">‚Çπ18L</div>
                    </div>
                    <div class="result-card">
                        <h4>Est. Returns</h4>
                        <div class="result-value" id="estimatedReturns">‚Çπ25.43L</div>
                    </div>
                    <div class="result-card">
                        <h4>Total Value</h4>
                        <div class="result-value" id="totalValue">‚Çπ43.43L</div>
                    </div>
                </div>
                
                <div class="investment-tips">
                    <h4>SIP Investment Tips</h4>
                    <ul>
                        <li><i class="fas fa-check-circle"></i> Start SIP early to benefit from compounding</li>
                        <li><i class="fas fa-check-circle"></i> Increase SIP amount by 10% every year</li>
                        <li><i class="fas fa-check-circle"></i> Stay invested for long term (5+ years)</li>
                        <li><i class="fas fa-check-circle"></i> Don't stop SIP during market corrections</li>
                    </ul>
                </div>
            </div>
            
            <!-- EMI Calculator -->
            <div class="calculator-content" id="emi-calc">
                <h3>EMI Calculator (All Loans)</h3>
                <div class="calculator-form">
                    <div class="form-group">
                        <label for="emiLoanAmount">Loan Amount (‚Çπ)</label>
                        <input type="number" id="emiLoanAmount" value="500000" min="10000" step="10000">
                    </div>
                    
                    <div class="form-group">
                        <label for="emiTenure">Loan Tenure (Months)</label>
                        <input type="number" id="emiTenure" value="60" min="12" max="360">
                    </div>
                    
                    <div class="form-group">
                        <label for="emiInterestRate">Interest Rate (%)</label>
                        <input type="number" id="emiInterestRate" value="10.5" min="5" max="20" step="0.1">
                        <div class="rate-options">
                            <button type="button" class="rate-btn" onclick="setEMIRate(9.5)">Home Loan: 9.5%</button>
                            <button type="button" class="rate-btn" onclick="setEMIRate(10.5)">Personal Loan: 10.5%</button>
                            <button type="button" class="rate-btn" onclick="setEMIRate(8.5)">Car Loan: 8.5%</button>
                        </div>
                    </div>
                    
                    <button class="btn-primary" onclick="calculateEMI()">
                        <i class="fas fa-calculator"></i> Calculate EMI
                    </button>
                </div>
                
                <div class="calculator-result" id="emiResult">
                    <div class="result-card">
                        <h4>Monthly EMI</h4>
                        <div class="result-value" id="monthlyEMI">‚Çπ10,745</div>
                    </div>
                    <div class="result-card">
                        <h4>Total Interest</h4>
                        <div class="result-value" id="totalEMIInterest">‚Çπ1.44L</div>
                    </div>
                    <div class="result-card">
                        <h4>Total Payment</h4>
                        <div class="result-value" id="totalEMIPayment">‚Çπ6.44L</div>
                    </div>
                </div>
                
                <div class="loan-types">
                    <h4>Common Loan Types</h4>
                    <div class="loan-types-grid">
                        <div class="loan-type">
                            <i class="fas fa-home"></i>
                            <h5>Home Loan</h5>
                            <p>8.4% - 9.5% interest</p>
                        </div>
                        <div class="loan-type">
                            <i class="fas fa-car"></i>
                            <h5>Car Loan</h5>
                            <p>8.5% - 10.5% interest</p>
                        </div>
                        <div class="loan-type">
                            <i class="fas fa-user"></i>
                            <h5>Personal Loan</h5>
                            <p>10.5% - 16% interest</p>
                        </div>
                        <div class="loan-type">
                            <i class="fas fa-graduation-cap"></i>
                            <h5>Education Loan</h5>
                            <p>8.5% - 11.5% interest</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- AI Investment Predictor -->
    <section class="ai-predictor" id="ai-predictor">
        <div class="section-header reveal">
            <h2>AI Investment Predictor</h2>
            <p>Get personalized investment recommendations based on your profile and market conditions</p>
        </div>
        
        <div class="predictor-container reveal">
            <form id="investmentForm">
                <div class="predictor-form">
                    <div class="form-group">
                        <label for="age">Your Age</label>
                        <input type="number" id="age" min="18" max="80" value="30" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="income">Annual Income (‚Çπ)</label>
                        <select id="income" required>
                            <option value="500000">‚Çπ5 Lakhs</option>
                            <option value="1000000" selected>‚Çπ10 Lakhs</option>
                            <option value="1500000">‚Çπ15 Lakhs</option>
                            <option value="2000000">‚Çπ20 Lakhs+</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="investment">Monthly Investment (‚Çπ)</label>
                        <input type="number" id="investment" min="1000" value="10000" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="risk">Risk Tolerance</label>
                        <select id="risk" required>
                            <option value="low">Low (Conservative)</option>
                            <option value="medium" selected>Medium (Balanced)</option>
                            <option value="high">High (Aggressive)</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="goal">Investment Goal</label>
                        <select id="goal" required>
                            <option value="retirement">Retirement</option>
                            <option value="house" selected>Buy a House</option>
                            <option value="education">Education</option>
                            <option value="wealth">Wealth Creation</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="horizon">Investment Horizon (Years)</label>
                        <input type="number" id="horizon" min="1" max="40" value="10" required>
                    </div>
                </div>
                
                <button type="button" class="btn-primary" onclick="analyzeInvestment()" style="width: 100%;">
                    <i class="fas fa-chart-bar"></i> Analyze with AI
                </button>
            </form>
            
            <div class="predictor-result" id="predictorResult">
                <div class="result-header">
                    <h3>AI Investment Recommendation</h3>
                    <div class="risk-score">
                        Risk Score: <span id="riskScore">65</span>/100
                    </div>
                </div>
                
                <div class="risk-meter">
                    <div class="risk-level" id="riskLevel" style="width: 65%;"></div>
                </div>
                
                <div id="recommendationDetails">
                    <!-- Filled by JavaScript -->
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials -->
    <section class="testimonials" id="testimonials">
        <div class="section-header reveal">
            <h2>What Our Clients Say</h2>
            <p>Trusted by over 5,000 clients across India</p>
        </div>
        
        <div class="testimonial-slider">
            <div class="testimonial-card reveal">
                <div class="client-rating">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                </div>
                <p>"The AI investment predictor helped me optimize my portfolio. I've seen 18% returns in the first year itself. The personalized advice is spot on!"</p>
                
                <div class="client-info">
                    <div class="client-avatar">RS</div>
                    <div>
                        <h4>Rajesh Sharma</h4>
                        <p>Business Owner, Mumbai</p>
                    </div>
                </div>
            </div>
            
            <div class="testimonial-card reveal">
                <div class="client-rating">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star-half-alt"></i>
                </div>
                <p>"The loan calculator and AI assistant helped me understand complex financial terms. Got the perfect home loan plan!"</p>
                
                <div class="client-info">
                    <div class="client-avatar">PM</div>
                    <div>
                        <h4>Priya Mehta</h4>
                        <p>Software Engineer, Bangalore</p>
                    </div>
                </div>
            </div>
            
            <div class="testimonial-card reveal">
                <div class="client-rating">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                </div>
                <p>"The SIP calculator gave me clear projections. Started investing ‚Çπ15,000 monthly and already seeing good returns in 6 months!"</p>
                
                <div class="client-info">
                    <div class="client-avatar">AS</div>
                    <div>
                        <h4>Amit Singh</h4>
                        <p>Doctor, Delhi</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="contact" id="contact">
        <div class="section-header reveal">
            <h2>Get In Touch</h2>
            <p>Schedule a consultation with our financial experts</p>
        </div>
        
        <div class="contact-container">
            <div class="contact-info">
                <div class="contact-card reveal">
                    <i class="fas fa-phone-alt"></i>
                    <h3>Call Us</h3>
                    <p>+91 91374 26363</p>
                    <p>Mon-Sat, 9AM-7PM</p>
                </div>
                
                <div class="contact-card reveal">
                    <i class="fas fa-envelope"></i>
                    <h3>Email Us</h3>
                    <p>kunalsabale89@gmail.com</p>
                    <p>Response within 2 hours</p>
                </div>
                
                <div class="contact-card reveal">
                    <i class="fas fa-map-marker-alt"></i>
                    <h3>Visit Us</h3>
                    <p>Financial District</p>
                    <p>Mumbai, India</p>
                </div>
                
                <div class="contact-card reveal">
                    <i class="fas fa-clock"></i>
                    <h3>Opening Hours</h3>
                    <p>Monday - Friday</p>
                    <p>9:00 AM - 7:00 PM</p>
                </div>
            </div>
            
            <div class="contact-form reveal">
                <h3>Send us a message</h3>
                <form id="contactForm">
                    <input type="text" id="cName" placeholder="Full Name" required>
                    <input type="tel" id="cPhone" placeholder="Mobile Number" required>
                    <input type="email" id="cEmail" placeholder="Email Address" required>
                    <select id="cService" required>
                        <option value="">Select Service</option>
                        <option value="insurance">Insurance</option>
                        <option value="mutual-funds">Mutual Funds</option>
                        <option value="loans">Loans</option>
                        <option value="investment">Investment Planning</option>
                        <option value="all">All Services</option>
                    </select>
                    <textarea id="cMessage" placeholder="Your Requirement" rows="4" required></textarea>
                    
                    <button type="button" class="btn-primary" onclick="sendAdvanced()" style="width: 100%;">
                        <i class="fas fa-paper-plane"></i> Send Message
                    </button>
                </form>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-column">
                <h3>Anagh Financial</h3>
                <p>AI-powered financial consultancy providing personalized investment strategies, insurance solutions, and loan services.</p>
                
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook-f"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-linkedin-in"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
            
            <div class="footer-column">
                <h3>Quick Links</h3>
                <ul class="footer-links">
                    <li><a href="#home"><i class="fas fa-chevron-right"></i> Home</a></li>
                    <li><a href="#services"><i class="fas fa-chevron-right"></i> Services</a></li>
                    <li><a href="#ai-assistant"><i class="fas fa-chevron-right"></i> AI Assistant</a></li>
                    <li><a href="#loan-calculator"><i class="fas fa-chevron-right"></i> Calculators</a></li>
                    <li><a href="#contact"><i class="fas fa-chevron-right"></i> Contact</a></li>
                </ul>
            </div>
            
            <div class="footer-column">
                <h3>Our Services</h3>
                <ul class="footer-links">
                    <li><a href="#ai-assistant"><i class="fas fa-chevron-right"></i> AI-Powered Insurance</a></li>
                    <li><a href="#ai-predictor"><i class="fas fa-chevron-right"></i> Smart Mutual Funds</a></li>
                    <li><a href="#loan-calculator"><i class="fas fa-chevron-right"></i> Intelligent Loans</a></li>
                    <li><a href="#ai-predictor"><i class="fas fa-chevron-right"></i> Retirement Planning</a></li>
                    <li><a href="#ai-assistant"><i class="fas fa-chevron-right"></i> Tax Optimization</a></li>
                </ul>
            </div>
            
            <div class="footer-column">
                <h3>Newsletter</h3>
                <p>Subscribe to get financial insights and AI investment tips</p>
                <div style="margin-top: 20px;">
                    <input type="email" id="newsletterEmail" placeholder="Your Email" style="width: 100%; padding: 12px; border-radius: 5px; border: 1px solid rgba(255,255,255,0.2); background: rgba(255,255,255,0.1); color: white; margin-bottom: 10px;">
                    <button class="btn-primary" onclick="subscribeNewsletter()" style="width: 100%;">
                        <i class="fas fa-paper-plane"></i> Subscribe
                    </button>
                </div>
            </div>
        </div>
        
        <div class="copyright">
            <p>&copy; <span id="currentYear">2026</span> Anagh Financial Consultancy. All Rights Reserved. | <a href="#" style="color: var(--secondary);">Privacy Policy</a> | <a href="#" style="color: var(--secondary);">Terms of Service</a></p>
            <p style="margin-top: 10px; font-size: 0.8rem;">
                <i class="fas fa-robot"></i> Powered by Advanced AI Algorithms
            </p>
        </div>
    </footer>

    <!-- ======================================== -->
    <!-- COMPLETE JAVASCRIPT - ALL IN ONE FILE -->
    <!-- ======================================== -->
    <script>
        // ========================================
        // SUPER AI CHATBOT - COMPLETE FUNCTIONALITY
        // ========================================
        
        document.addEventListener('DOMContentLoaded', function() {
            console.log('‚úÖ Website initialized');
            
            // Initialize all components
            initChatbot();
            initMobileMenu();
            initCalculators();
            initScrollReveal();
            initContactForm();
            initHeaderScroll();
            initInvestmentPredictor();
            
            // Set current year
            const yearElement = document.getElementById('currentYear');
            if (yearElement) {
                yearElement.textContent = new Date().getFullYear();
            }
        });

        // ---------- CHATBOT FUNCTIONALITY ----------
        function initChatbot() {
            const chatMessages = document.getElementById('chatMessages');
            const chatInput = document.getElementById('chatInput');
            const sendButton = document.getElementById('sendMessage');
            
            if (!chatMessages || !chatInput || !sendButton) {
                console.error('Chatbot elements not found');
                return;
            }
            
            // Clear existing messages and add welcome
            chatMessages.innerHTML = '';
            addBotMessage(`üëã <strong>Hello! I'm your AI Financial Assistant!</strong>
<br><br>
I can help you with:
<br><br>
üè† <strong>Home Loans</strong> - EMI, rates, SBI vs HDFC<br>
üí∞ <strong>SIP Calculator</strong> - Returns for any amount<br>
üìã <strong>Tax Planning</strong> - 80C, 80D, home loan benefits<br>
üõ°Ô∏è <strong>Insurance</strong> - Term, health, retirement<br>
üìä <strong>Credit Score</strong> - Check & improve
<br><br>
<strong>Try asking me anything! üí¨</strong>`);
            
            // Send message function
            window.sendMessage = function() {
                const message = chatInput.value.trim();
                if (!message) return;
                
                // Add user message
                addUserMessage(message);
                chatInput.value = '';
                
                // Show typing indicator
                showTypingIndicator();
                
                // Get AI response
                setTimeout(() => {
                    removeTypingIndicator();
                    const response = getAIResponse(message);
                    addBotMessage(response);
                }, 800);
            };
            
            // Quick message function
            window.sendQuickMessage = function(message) {
                chatInput.value = message;
                sendMessage();
            };
            
            // Add bot message
            function addBotMessage(text) {
                const messageDiv = document.createElement('div');
                messageDiv.classList.add('message', 'bot-message');
                
                const contentDiv = document.createElement('div');
                contentDiv.classList.add('message-content');
                contentDiv.innerHTML = text;
                
                const timeDiv = document.createElement('div');
                timeDiv.classList.add('message-time');
                timeDiv.textContent = getCurrentTime();
                
                messageDiv.appendChild(contentDiv);
                messageDiv.appendChild(timeDiv);
                chatMessages.appendChild(messageDiv);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
            
            // Add user message
            function addUserMessage(text) {
                const messageDiv = document.createElement('div');
                messageDiv.classList.add('message', 'user-message');
                
                const contentDiv = document.createElement('div');
                contentDiv.classList.add('message-content');
                contentDiv.innerHTML = text;
                
                const timeDiv = document.createElement('div');
                timeDiv.classList.add('message-time');
                timeDiv.textContent = getCurrentTime();
                
                messageDiv.appendChild(contentDiv);
                messageDiv.appendChild(timeDiv);
                chatMessages.appendChild(messageDiv);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
            
            // Show typing indicator
            function showTypingIndicator() {
                const indicator = document.createElement('div');
                indicator.classList.add('message', 'bot-message');
                indicator.id = 'typingIndicator';
                
                const typingDiv = document.createElement('div');
                typingDiv.classList.add('typing-indicator');
                typingDiv.innerHTML = '<span></span><span></span><span></span><span style="margin-left: 8px; color: #64748b;">AI is thinking...</span>';
                
                indicator.appendChild(typingDiv);
                chatMessages.appendChild(indicator);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
            
            // Remove typing indicator
            function removeTypingIndicator() {
                const indicator = document.getElementById('typingIndicator');
                if (indicator) indicator.remove();
            }
            
            // Get current time
            function getCurrentTime() {
                const now = new Date();
                return now.toLocaleTimeString('en-IN', { hour: '2-digit', minute: '2-digit' });
            }
            
            // AI Response Engine
            function getAIResponse(message) {
                const query = message.toLowerCase();
                
                // HOME LOAN RATES
                if (query.includes('home loan') || query.includes('house loan')) {
                    if (query.includes('rate')) {
                        return `üè† <strong>Current Home Loan Rates (Feb 2026)</strong>
<br><br>
‚Ä¢ <strong>SBI:</strong> 8.40% | Processing: 0.35%<br>
‚Ä¢ <strong>HDFC:</strong> 8.50% | Processing: 0.50%<br>
‚Ä¢ <strong>ICICI:</strong> 8.60% | Processing: 0.50%<br>
‚Ä¢ <strong>Axis:</strong> 8.55% | Processing: 0.40%
<br><br>
‚ú® <strong>Best Rate:</strong> SBI @ 8.40%<br>
üí° <strong>Tip:</strong> Women borrowers get 0.05% extra discount!`;
                    }
                    
                    // Extract numbers for EMI calculation
                    let amount = 5000000;
                    let years = 20;
                    let rate = 8.5;
                    
                    const numbers = query.match(/\d+/g);
                    if (numbers) {
                        if (numbers.length >= 1) {
                            if (query.includes('lakh')) {
                                amount = parseInt(numbers[0]) * 100000;
                            } else if (query.includes('cr')) {
                                amount = parseInt(numbers[0]) * 10000000;
                            } else {
                                amount = parseInt(numbers[0]) * (amount > 100000 ? 1 : 100000);
                            }
                        }
                        if (numbers.length >= 2) years = parseInt(numbers[1]);
                    }
                    
                    const monthlyRate = rate / 12 / 100;
                    const months = years * 12;
                    const emi = (amount * monthlyRate * Math.pow(1 + monthlyRate, months)) / (Math.pow(1 + monthlyRate, months) - 1);
                    const totalPayment = emi * months;
                    const totalInterest = totalPayment - amount;
                    
                    return `üè† <strong>Home Loan EMI Calculator</strong>
<br><br>
üìä <strong>Your Loan Details:</strong><br>
‚Ä¢ Amount: ‚Çπ${(amount/100000).toFixed(1)} Lakhs<br>
‚Ä¢ Tenure: ${years} years<br>
‚Ä¢ Rate: ${rate}% p.a.
<br><br>
üí∞ <strong>Monthly EMI:</strong> ‚Çπ${Math.round(emi).toLocaleString('en-IN')}<br>
üìà <strong>Total Interest:</strong> ‚Çπ${Math.round(totalInterest).toLocaleString('en-IN')}<br>
üíé <strong>Total Payment:</strong> ‚Çπ${Math.round(totalPayment).toLocaleString('en-IN')}`;
                }
                
                // SBI vs HDFC COMPARISON
                if (query.includes('sbi') && query.includes('hdfc')) {
                    return `üèÜ <strong>SBI vs HDFC HOME LOAN</strong>
<br><br>
<table style="width:100%; border-collapse: collapse;">
<tr><th>Parameter</th><th>SBI</th><th>HDFC</th></tr>
<tr><td>Interest Rate</td><td><strong>8.40%</strong></td><td>8.50%</td></tr>
<tr><td>Processing Fee</td><td><strong>0.35%</strong></td><td>0.50%</td></tr>
<tr><td>EMI (‚Çπ50L/20y)</td><td><strong>‚Çπ43,013</strong></td><td>‚Çπ43,391</td></tr>
</table>
<br>
üí∞ <strong>Savings with SBI:</strong><br>
‚Ä¢ Monthly: <strong>‚Çπ378</strong><br>
‚Ä¢ 20 Years: <strong>‚Çπ90,720</strong>
<br><br>
‚úÖ <strong>SBI Wins:</strong> Lower rate, lower fee<br>
‚úÖ <strong>HDFC Wins:</strong> Faster processing, better app
<br><br>
<strong>Winner: SBI üèÜ</strong>`;
                }
                
                // SIP CALCULATOR
                if (query.includes('sip')) {
                    let amount = 10000;
                    let years = 15;
                    let rate = 12;
                    
                    const numbers = query.match(/\d+/g);
                    if (numbers) {
                        if (numbers.length >= 1) amount = parseInt(numbers[0]);
                        if (numbers.length >= 2) years = parseInt(numbers[1]);
                    }
                    
                    const monthlyRate = rate / 12 / 100;
                    const months = years * 12;
                    const futureValue = amount * ((Math.pow(1 + monthlyRate, months) - 1) / monthlyRate) * (1 + monthlyRate);
                    const totalInvestment = amount * months;
                    
                    return `üí∞ <strong>SIP Calculator</strong>
<br><br>
üìä <strong>‚Çπ${amount.toLocaleString('en-IN')}/month for ${years} years @${rate}%</strong>
<br><br>
‚Ä¢ <strong>Total Investment:</strong> ‚Çπ${totalInvestment.toLocaleString('en-IN')}<br>
‚Ä¢ <strong>Est. Returns:</strong> ‚Çπ${Math.round(futureValue - totalInvestment).toLocaleString('en-IN')}<br>
‚Ä¢ <strong>Total Value:</strong> ‚Çπ${Math.round(futureValue).toLocaleString('en-IN')}
<br><br>
üìà <strong>Power of Compounding:</strong><br>
‚Ä¢ 20 years ‚Üí ‚Çπ${Math.round(amount * ((Math.pow(1 + monthlyRate, 240) - 1) / monthlyRate) * (1 + monthlyRate)).toLocaleString('en-IN')}
<br><br>
üöÄ <strong>Pro Tip:</strong> Increase SIP by 10% yearly = 2x returns!`;
                }
                
                // TAX SAVING
                if (query.includes('tax') || query.includes('80c')) {
                    return `üìã <strong>Tax Saving Guide 2025-26</strong>
<br><br>
üí∞ <strong>Section 80C (‚Çπ1.5L):</strong><br>
‚Ä¢ <strong>ELSS</strong> ‚≠ê 14-16% returns, 3y lock-in<br>
‚Ä¢ PPF 7.1%, 15y lock-in<br>
‚Ä¢ NPS 10-12%, till 60
<br><br>
ü©∫ <strong>Section 80D (Health Insurance):</strong><br>
‚Ä¢ Self + Family: ‚Çπ25,000<br>
‚Ä¢ Parents (Senior): ‚Çπ50,000<br>
‚Ä¢ <strong>Total: Up to ‚Çπ1,00,000</strong>
<br><br>
üè† <strong>Home Loan Benefits:</strong><br>
‚Ä¢ Interest (24b): ‚Çπ2,00,000/year<br>
‚Ä¢ Principal (80C): ‚Çπ1.5L/year
<br><br>
üí° <strong>Smart Strategy:</strong> ELSS + PPF + Health = Max benefit!`;
                }
                
                // INSURANCE
                if (query.includes('insurance') || query.includes('term')) {
                    return `üõ°Ô∏è <strong>Insurance Guide</strong>
<br><br>
<strong>TERM INSURANCE:</strong><br>
‚Ä¢ Cover: 20x annual income<br>
‚Ä¢ ‚Çπ1Cr for age 30: ‚Çπ10-15k/year<br>
‚Ä¢ Top: Max Life, HDFC Life
<br><br>
<strong>HEALTH INSURANCE:</strong><br>
‚Ä¢ Individual: ‚Çπ10L cover<br>
‚Ä¢ Family (4): ‚Çπ25L cover<br>
‚Ä¢ Top: HDFC Ergo, Star Health
<br><br>
‚ùå <strong>Avoid:</strong> LIC Jeevan Anand (low returns)<br>
‚úÖ <strong>Do:</strong> Pure term + ELSS/PPF
<br><br>
<strong>Want a quote? Tell me your age & income!</strong>`;
                }
                
                // CREDIT SCORE
                if (query.includes('credit') || query.includes('cibil')) {
                    return `üìä <strong>CIBIL Score Guide</strong>
<br><br>
‚úÖ <strong>750-900:</strong> Excellent - Best rates<br>
‚úÖ <strong>700-749:</strong> Good - Quick approval<br>
‚ö†Ô∏è <strong>650-699:</strong> Fair - May need explanation<br>
‚ùå <strong>550-649:</strong> Poor - Difficult<br>
üõë <strong>300-549:</strong> Very Poor - Likely rejected
<br><br>
üìà <strong>Boost Score FAST:</strong><br>
1Ô∏è‚É£ Pay FULL bill, not minimum<br>
2Ô∏è‚É£ Keep usage <30% of limit<br>
3Ô∏è‚É£ No multiple applications<br>
4Ô∏è‚É£ Don't close old cards
<br><br>
üì± <strong>Check FREE:</strong> Google Pay, CRED`;
                }
                
                // GREETING
                if (query.includes('hello') || query.includes('hi') || query.includes('hey')) {
                    return `üëã <strong>Hello! I'm your AI Financial Assistant!</strong>
<br><br>
I can help you with:
<br><br>
‚úÖ <strong>Home Loans</strong> - EMI, rates, SBI vs HDFC<br>
‚úÖ <strong>SIP Calculator</strong> - Returns for any amount<br>
‚úÖ <strong>Tax Planning</strong> - 80C, 80D, home loan<br>
‚úÖ <strong>Insurance</strong> - Term, health, retirement<br>
‚úÖ <strong>Credit Score</strong> - Check & improve
<br><br>
<strong>What would you like to know?</strong> üòä`;
                }
                
                // HELP
                if (query.includes('help') || query.includes('what can you do')) {
                    return `üîç <strong>I can help you with:</strong>
<br><br>
üè† <strong>Home Loans</strong><br>
‚Ä¢ Current interest rates<br>
‚Ä¢ EMI calculation<br>
‚Ä¢ SBI vs HDFC comparison
<br><br>
üí∞ <strong>SIP Investments</strong><br>
‚Ä¢ Returns calculator<br>
‚Ä¢ Top mutual funds<br>
‚Ä¢ ELSS tax saving
<br><br>
üìã <strong>Tax Planning</strong><br>
‚Ä¢ Section 80C options<br>
‚Ä¢ ELSS vs PPF vs NPS<br>
‚Ä¢ Home loan benefits
<br><br>
<strong>Just type your question!</strong> üöÄ`;
                }
                
                // DEFAULT RESPONSE
                return `I can help you with:
<br><br>
üè† <strong>Home Loans</strong> - EMI, rates, SBI vs HDFC<br>
üí∞ <strong>SIP</strong> - Returns calculator, top funds<br>
üìã <strong>Tax</strong> - 80C, 80D, home loan benefits<br>
üõ°Ô∏è <strong>Insurance</strong> - Term, health, retirement<br>
üìä <strong>Credit Score</strong> - Check & improve
<br><br>
<strong>Please ask a specific question!</strong> üí¨`;
            }
            
            // Event listeners
            sendButton.addEventListener('click', sendMessage);
            
            chatInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    sendMessage();
                }
            });
        }

        // ---------- MOBILE MENU ----------
        function initMobileMenu() {
            const menuBtn = document.getElementById('mobileMenuBtn');
            const navLinks = document.getElementById('navLinks');
            
            if (!menuBtn || !navLinks) return;
            
            menuBtn.addEventListener('click', function() {
                navLinks.classList.toggle('active');
                const icon = this.querySelector('i');
                if (icon) {
                    if (icon.classList.contains('fa-bars')) {
                        icon.classList.remove('fa-bars');
                        icon.classList.add('fa-times');
                    } else {
                        icon.classList.remove('fa-times');
                        icon.classList.add('fa-bars');
                    }
                }
            });
            
            // Close menu when clicking a link
            navLinks.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', function() {
                    navLinks.classList.remove('active');
                    const icon = menuBtn.querySelector('i');
                    if (icon) {
                        icon.classList.remove('fa-times');
                        icon.classList.add('fa-bars');
                    }
                });
            });
        }

        // ---------- HOME LOAN CALCULATOR ----------
        function initCalculators() {
            // Home Loan Calculator
            const loanAmount = document.getElementById('loanAmount');
            const loanAmountRange = document.getElementById('loanAmountRange');
            const loanTenure = document.getElementById('loanTenure');
            const loanTenureRange = document.getElementById('loanTenureRange');
            const interestRate = document.getElementById('interestRate');
            
            if (loanAmountRange) {
                loanAmountRange.addEventListener('input', function() {
                    if (loanAmount) loanAmount.value = this.value;
                    calculateHomeLoan();
                });
            }
            
            if (loanAmount) {
                loanAmount.addEventListener('input', function() {
                    if (loanAmountRange) loanAmountRange.value = this.value;
                    calculateHomeLoan();
                });
            }
            
            if (loanTenureRange) {
                loanTenureRange.addEventListener('input', function() {
                    if (loanTenure) loanTenure.value = this.value;
                    calculateHomeLoan();
                });
            }
            
            if (loanTenure) {
                loanTenure.addEventListener('input', function() {
                    if (loanTenureRange) loanTenureRange.value = this.value;
                    calculateHomeLoan();
                });
            }
            
            if (interestRate) {
                interestRate.addEventListener('input', calculateHomeLoan);
            }
            
            window.calculateHomeLoan = function() {
                const amount = parseFloat(loanAmount?.value) || 5000000;
                const years = parseFloat(loanTenure?.value) || 20;
                const rate = parseFloat(interestRate?.value) || 8.5;
                
                const monthlyRate = rate / 12 / 100;
                const months = years * 12;
                const emi = (amount * monthlyRate * Math.pow(1 + monthlyRate, months)) / (Math.pow(1 + monthlyRate, months) - 1);
                const totalPayment = emi * months;
                const totalInterest = totalPayment - amount;
                
                document.getElementById('emiAmount').textContent = '‚Çπ' + Math.round(emi).toLocaleString('en-IN');
                document.getElementById('totalInterest').textContent = '‚Çπ' + Math.round(totalInterest).toLocaleString('en-IN');
                document.getElementById('totalPayment').textContent = '‚Çπ' + Math.round(totalPayment).toLocaleString('en-IN');
                
                updateBankComparison(amount, years);
            };
            
            window.setInterestRate = function(rate) {
                if (interestRate) {
                    interestRate.value = rate;
                    calculateHomeLoan();
                }
            };
            
            window.updateBankComparison = function(amount, tenure) {
                const banks = [
                    { name: 'SBI', rate: 8.4, id: 'sbiEMI' },
                    { name: 'HDFC', rate: 8.5, id: 'hdfcEMI' },
                    { name: 'ICICI', rate: 8.6, id: 'iciciEMI' },
                    { name: 'Axis', rate: 8.55, id: 'axisEMI' }
                ];
                
                banks.forEach(bank => {
                    const el = document.getElementById(bank.id);
                    if (el) {
                        const monthlyRate = bank.rate / 12 / 100;
                        const months = tenure * 12;
                        const emi = (amount * monthlyRate * Math.pow(1 + monthlyRate, months)) / (Math.pow(1 + monthlyRate, months) - 1);
                        el.textContent = '‚Çπ' + Math.round(emi).toLocaleString('en-IN');
                    }
                });
            };
            
            // SIP Calculator
            const sipAmount = document.getElementById('sipAmount');
            const sipAmountRange = document.getElementById('sipAmountRange');
            const sipTenure = document.getElementById('sipTenure');
            const sipTenureRange = document.getElementById('sipTenureRange');
            const sipReturn = document.getElementById('sipReturn');
            
            if (sipAmountRange) {
                sipAmountRange.addEventListener('input', function() {
                    if (sipAmount) sipAmount.value = this.value;
                    calculateSIP();
                });
            }
            
            if (sipAmount) {
                sipAmount.addEventListener('input', function() {
                    if (sipAmountRange) sipAmountRange.value = this.value;
                    calculateSIP();
                });
            }
            
            if (sipTenureRange) {
                sipTenureRange.addEventListener('input', function() {
                    if (sipTenure) sipTenure.value = this.value;
                    calculateSIP();
                });
            }
            
            if (sipTenure) {
                sipTenure.addEventListener('input', function() {
                    if (sipTenureRange) sipTenureRange.value = this.value;
                    calculateSIP();
                });
            }
            
            if (sipReturn) {
                sipReturn.addEventListener('input', calculateSIP);
            }
            
            window.calculateSIP = function() {
                const amount = parseFloat(sipAmount?.value) || 10000;
                const years = parseFloat(sipTenure?.value) || 15;
                const rate = parseFloat(sipReturn?.value) || 12;
                
                const monthlyRate = rate / 12 / 100;
                const months = years * 12;
                const futureValue = amount * ((Math.pow(1 + monthlyRate, months) - 1) / monthlyRate) * (1 + monthlyRate);
                const totalInvestment = amount * months;
                
                document.getElementById('totalInvestment').textContent = '‚Çπ' + Math.round(totalInvestment).toLocaleString('en-IN');
                document.getElementById('estimatedReturns').textContent = '‚Çπ' + Math.round(futureValue - totalInvestment).toLocaleString('en-IN');
                document.getElementById('totalValue').textContent = '‚Çπ' + Math.round(futureValue).toLocaleString('en-IN');
            };
            
            window.setSIPReturn = function(rate) {
                if (sipReturn) {
                    sipReturn.value = rate;
                    calculateSIP();
                }
            };
            
            // EMI Calculator
            const emiLoanAmount = document.getElementById('emiLoanAmount');
            const emiTenure = document.getElementById('emiTenure');
            const emiInterestRate = document.getElementById('emiInterestRate');
            
            if (emiLoanAmount) emiLoanAmount.addEventListener('input', calculateEMI);
            if (emiTenure) emiTenure.addEventListener('input', calculateEMI);
            if (emiInterestRate) emiInterestRate.addEventListener('input', calculateEMI);
            
            window.calculateEMI = function() {
                const amount = parseFloat(emiLoanAmount?.value) || 500000;
                const months = parseFloat(emiTenure?.value) || 60;
                const rate = parseFloat(emiInterestRate?.value) || 10.5;
                
                const monthlyRate = rate / 12 / 100;
                const emi = (amount * monthlyRate * Math.pow(1 + monthlyRate, months)) / (Math.pow(1 + monthlyRate, months) - 1);
                const totalPayment = emi * months;
                
                document.getElementById('monthlyEMI').textContent = '‚Çπ' + Math.round(emi).toLocaleString('en-IN');
                document.getElementById('totalEMIInterest').textContent = '‚Çπ' + Math.round(totalPayment - amount).toLocaleString('en-IN');
                document.getElementById('totalEMIPayment').textContent = '‚Çπ' + Math.round(totalPayment).toLocaleString('en-IN');
            };
            
            window.setEMIRate = function(rate) {
                if (emiInterestRate) {
                    emiInterestRate.value = rate;
                    calculateEMI();
                }
            };
            
            // Tab switching
            window.showCalculator = function(type) {
                document.querySelectorAll('.calculator-content').forEach(el => el.classList.remove('active'));
                document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
                
                document.getElementById(type + '-calc').classList.add('active');
                event.target.classList.add('active');
            };
            
            // Initialize calculators
            setTimeout(() => {
                calculateHomeLoan();
                calculateSIP();
                calculateEMI();
            }, 100);
        }

        // ---------- AI INVESTMENT PREDICTOR ----------
        function initInvestmentPredictor() {
            window.analyzeInvestment = function() {
                const age = parseInt(document.getElementById('age')?.value) || 30;
                const income = parseInt(document.getElementById('income')?.value) || 1000000;
                const investment = parseInt(document.getElementById('investment')?.value) || 10000;
                const risk = document.getElementById('risk')?.value || 'medium';
                const horizon = parseInt(document.getElementById('horizon')?.value) || 10;
                
                // Validate inputs
                if (age < 18 || age > 80) {
                    alert('Please enter a valid age between 18 and 80.');
                    return;
                }
                
                if (investment < 1000) {
                    alert('Minimum monthly investment should be ‚Çπ1,000.');
                    return;
                }
                
                if (horizon < 1 || horizon > 40) {
                    alert('Investment horizon should be between 1 and 40 years.');
                    return;
                }
                
                // Calculate risk score
                let riskScore = 50;
                if (risk === 'low') riskScore = 30;
                else if (risk === 'medium') riskScore = 65;
                else if (risk === 'high') riskScore = 85;
                
                if (age < 30) riskScore += 10;
                else if (age > 50) riskScore -= 15;
                
                if (horizon > 15) riskScore += 10;
                else if (horizon < 5) riskScore -= 15;
                
                riskScore = Math.max(20, Math.min(95, riskScore));
                
                // Calculate returns
                const expectedReturn = riskScore / 100 * 15 + 5;
                const monthlyRate = expectedReturn / 12 / 100;
                const months = horizon * 12;
                const futureValue = investment * ((Math.pow(1 + monthlyRate, months) - 1) / monthlyRate) * (1 + monthlyRate);
                
                // Portfolio allocation
                let equityPercent, debtPercent, othersPercent;
                if (riskScore < 40) {
                    equityPercent = 30;
                    debtPercent = 60;
                    othersPercent = 10;
                } else if (riskScore < 70) {
                    equityPercent = 60;
                    debtPercent = 35;
                    othersPercent = 5;
                } else {
                    equityPercent = 80;
                    debtPercent = 15;
                    othersPercent = 5;
                }
                
                // Display results
                document.getElementById('riskScore').textContent = riskScore;
                document.getElementById('riskLevel').style.width = riskScore + '%';
                
                const resultDiv = document.getElementById('recommendationDetails');
                resultDiv.innerHTML = `
                    <div style="margin-top: 20px;">
                        <h4 style="color: #00c853;">Investment Profile</h4>
                        <p><strong>Age:</strong> ${age} years | <strong>Risk:</strong> ${risk.toUpperCase()} | <strong>Horizon:</strong> ${horizon} years</p>
                        
                        <h4 style="margin-top: 20px;">Portfolio Allocation</h4>
                        <div style="display: flex; gap: 10px; margin: 15px 0;">
                            <div style="flex:1; background: #2962ff; padding: 15px; border-radius: 10px; text-align: center;">
                                <div>Equity</div>
                                <div style="font-size: 24px; font-weight: bold;">${equityPercent}%</div>
                            </div>
                            <div style="flex:1; background: #00c853; padding: 15px; border-radius: 10px; text-align: center;">
                                <div>Debt</div>
                                <div style="font-size: 24px; font-weight: bold;">${debtPercent}%</div>
                            </div>
                            <div style="flex:1; background: #ff6b6b; padding: 15px; border-radius: 10px; text-align: center;">
                                <div>Others</div>
                                <div style="font-size: 24px; font-weight: bold;">${othersPercent}%</div>
                            </div>
                        </div>
                        
                        <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 10px; margin-top: 20px;">
                            <h4>Projected Returns</h4>
                            <p style="font-size: 28px; font-weight: bold; color: #00c853;">‚Çπ${Math.round(futureValue).toLocaleString('en-IN')}</p>
                            <p>Monthly Investment: ‚Çπ${investment.toLocaleString('en-IN')} | Expected Return: ${expectedReturn.toFixed(1)}%</p>
                        </div>
                    </div>
                `;
                
                document.getElementById('predictorResult').style.display = 'block';
            };
        }

        // ---------- CONTACT FORM ----------
        function initContactForm() {
            window.sendAdvanced = function() {
                const name = document.getElementById('cName')?.value;
                const phone = document.getElementById('cPhone')?.value;
                const email = document.getElementById('cEmail')?.value;
                const service = document.getElementById('cService')?.value;
                const message = document.getElementById('cMessage')?.value;
                
                if (!name || !phone || !email || !service || !message) {
                    alert('Please fill in all fields');
                    return;
                }
                
                // Phone validation
                const phoneRegex = /^[6-9]\d{9}$/;
                if (!phoneRegex.test(phone)) {
                    alert('Please enter a valid 10-digit Indian mobile number');
                    return;
                }
                
                // Email validation
                const emailRegex = /^\S+@\S+\.\S+$/;
                if (!emailRegex.test(email)) {
                    alert('Please enter a valid email address');
                    return;
                }
                
                alert(`‚úÖ Thank you ${name}! Our team will contact you within 24 hours.`);
                document.getElementById('contactForm').reset();
            };
            
            window.subscribeNewsletter = function() {
                const email = document.getElementById('newsletterEmail')?.value;
                if (!email) {
                    alert('Please enter your email');
                    return;
                }
                
                const emailRegex = /^\S+@\S+\.\S+$/;
                if (!emailRegex.test(email)) {
                    alert('Please enter a valid email address');
                    return;
                }
                
                alert('‚úÖ Thank you for subscribing to our newsletter!');
                document.getElementById('newsletterEmail').value = '';
            };
        }

        // ---------- SCROLL REVEAL ----------
        function initScrollReveal() {
            const reveals = document.querySelectorAll('.reveal');
            
            function reveal() {
                reveals.forEach(el => {
                    const windowHeight = window.innerHeight;
                    const revealTop = el.getBoundingClientRect().top;
                    const revealPoint = 100;
                    
                    if (revealTop < windowHeight - revealPoint) {
                        el.classList.add('active');
                    }
                });
            }
            
            window.addEventListener('scroll', reveal);
            window.addEventListener('load', reveal);
            setTimeout(reveal, 100);
        }

        // ---------- HEADER SCROLL ----------
        function initHeaderScroll() {
            window.addEventListener('scroll', function() {
                const header = document.getElementById('mainHeader');
                if (header) {
                    if (window.scrollY > 50) {
                        header.classList.add('scrolled');
                    } else {
                        header.classList.remove('scrolled');
                    }
                }
            });
        }

        // ---------- NAVIGATION ----------
        window.goContact = function() {
            document.getElementById('contact')?.scrollIntoView({ behavior: 'smooth' });
        };
        
        window.goToAI = function() {
            document.getElementById('ai-assistant')?.scrollIntoView({ behavior: 'smooth' });
        };
    </script>
</body>
</html>
