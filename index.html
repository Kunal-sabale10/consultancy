<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Super AI Financial Assistant - Anagh Consultancy</title>
    
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* ========================================
           SUPER AI CHATBOT - COMPLETE STYLES
           Mobile First, Zero Dependencies
        ======================================== */
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(145deg, #0b1c2d 0%, #1a2c3d 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 16px;
        }

        /* Main Chat Container - Mobile Optimized */
        .chat-container {
            width: 100%;
            max-width: 800px;
            height: 85vh;
            max-height: 900px;
            background: white;
            border-radius: 28px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            position: relative;
        }

        /* Chat Header */
        .chat-header {
            background: linear-gradient(145deg, #0b1c2d, #1e3a5f);
            padding: 20px 24px;
            display: flex;
            align-items: center;
            gap: 16px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .chat-header i {
            font-size: 32px;
            color: #00c853;
            background: rgba(0,200,83,0.15);
            padding: 12px;
            border-radius: 18px;
        }

        .chat-header-info {
            flex: 1;
        }

        .chat-header-info h2 {
            color: white;
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .chat-header-info p {
            color: rgba(255,255,255,0.7);
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .online-dot {
            width: 10px;
            height: 10px;
            background: #00c853;
            border-radius: 50%;
            display: inline-block;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.1); }
            100% { opacity: 1; transform: scale(1); }
        }

        /* Messages Container */
        .messages-container {
            flex: 1;
            overflow-y: auto;
            padding: 24px;
            background: #f8fafc;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        /* Message Bubbles */
        .message {
            display: flex;
            flex-direction: column;
            max-width: 85%;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .bot-message {
            align-self: flex-start;
        }

        .user-message {
            align-self: flex-end;
        }

        .message-content {
            padding: 16px 20px;
            border-radius: 22px;
            font-size: 0.95rem;
            line-height: 1.5;
            word-wrap: break-word;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .bot-message .message-content {
            background: white;
            color: #1e293b;
            border-bottom-left-radius: 6px;
            border: 1px solid #e2e8f0;
        }

        .user-message .message-content {
            background: linear-gradient(145deg, #0b1c2d, #1e3a5f);
            color: white;
            border-bottom-right-radius: 6px;
        }

        .message-time {
            font-size: 0.7rem;
            color: #64748b;
            margin-top: 6px;
            margin-left: 8px;
        }

        .user-message .message-time {
            text-align: right;
            margin-right: 8px;
        }

        /* Typing Indicator */
        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 4px;
            padding: 16px 20px;
            background: white;
            border-radius: 22px;
            border-bottom-left-radius: 6px;
            width: fit-content;
            border: 1px solid #e2e8f0;
        }

        .typing-indicator span {
            width: 8px;
            height: 8px;
            background: #94a3b8;
            border-radius: 50%;
            display: inline-block;
            animation: typing 1.4s infinite;
        }

        .typing-indicator span:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-indicator span:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); opacity: 0.6; }
            30% { transform: translateY(-6px); opacity: 1; }
        }

        /* Quick Actions */
        .quick-actions {
            display: flex;
            gap: 12px;
            padding: 16px 24px;
            background: white;
            border-top: 1px solid #e2e8f0;
            overflow-x: auto;
            white-space: nowrap;
            -webkit-overflow-scrolling: touch;
        }

        .quick-action-btn {
            padding: 12px 20px;
            background: #f1f5f9;
            border: 1px solid #e2e8f0;
            border-radius: 40px;
            font-size: 0.9rem;
            font-weight: 500;
            color: #0b1c2d;
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            flex-shrink: 0;
        }

        .quick-action-btn:hover {
            background: #e2e8f0;
            transform: translateY(-2px);
        }

        .quick-action-btn i {
            color: #2962ff;
        }

        /* Input Area */
        .input-area {
            display: flex;
            gap: 12px;
            padding: 16px 24px;
            background: white;
            border-top: 1px solid #e2e8f0;
            align-items: flex-end;
        }

        .input-wrapper {
            flex: 1;
            background: #f1f5f9;
            border-radius: 28px;
            padding: 4px 4px 4px 20px;
            display: flex;
            align-items: flex-end;
            border: 2px solid transparent;
            transition: all 0.2s ease;
        }

        .input-wrapper:focus-within {
            border-color: #2962ff;
            background: white;
        }

        #messageInput {
            flex: 1;
            background: transparent;
            border: none;
            padding: 14px 0;
            font-size: 1rem;
            font-family: 'Inter', sans-serif;
            resize: none;
            max-height: 120px;
            outline: none;
            color: #1e293b;
        }

        #messageInput::placeholder {
            color: #94a3b8;
        }

        .send-btn {
            width: 52px;
            height: 52px;
            background: linear-gradient(145deg, #0b1c2d, #1e3a5f);
            border: none;
            border-radius: 28px;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .send-btn:hover {
            transform: scale(1.05);
            background: linear-gradient(145deg, #1e3a5f, #0b1c2d);
        }

        .send-btn i {
            transition: transform 0.2s ease;
        }

        .send-btn:hover i {
            transform: translateX(4px);
        }

        /* Markdown Styling */
        .message-content strong {
            color: #2962ff;
        }

        .bot-message .message-content strong {
            color: #0b1c2d;
        }

        .message-content ul, 
        .message-content ol {
            margin: 12px 0 8px 20px;
        }

        .message-content li {
            margin-bottom: 6px;
        }

        .message-content table {
            width: 100%;
            border-collapse: collapse;
            margin: 16px 0;
            font-size: 0.85rem;
        }

        .message-content th {
            background: #f1f5f9;
            padding: 10px;
            text-align: left;
            font-weight: 600;
        }

        .message-content td {
            padding: 8px 10px;
            border-bottom: 1px solid #e2e8f0;
        }

        /* Mobile Optimizations */
        @media (max-width: 480px) {
            body {
                padding: 8px;
            }

            .chat-container {
                height: 95vh;
                border-radius: 20px;
            }

            .chat-header {
                padding: 16px;
            }

            .chat-header i {
                font-size: 28px;
                padding: 10px;
            }

            .chat-header-info h2 {
                font-size: 1.2rem;
            }

            .messages-container {
                padding: 16px;
            }

            .message-content {
                padding: 14px 18px;
                font-size: 0.9rem;
            }

            .quick-actions {
                padding: 12px 16px;
            }

            .input-area {
                padding: 12px 16px;
            }

            .send-btn {
                width: 48px;
                height: 48px;
            }
        }

        /* Dark Mode Support */
        @media (prefers-color-scheme: dark) {
            .messages-container {
                background: #0f172a;
            }

            .bot-message .message-content {
                background: #1e293b;
                color: #f1f5f9;
                border-color: #334155;
            }

            .quick-actions {
                background: #1e293b;
                border-color: #334155;
            }

            .quick-action-btn {
                background: #334155;
                border-color: #475569;
                color: #f1f5f9;
            }

            .input-area {
                background: #1e293b;
                border-color: #334155;
            }

            .input-wrapper {
                background: #334155;
            }

            #messageInput {
                color: #f1f5f9;
            }

            #messageInput::placeholder {
                color: #94a3b8;
            }
        }

        /* Scrollbar Styling */
        .messages-container::-webkit-scrollbar {
            width: 6px;
        }

        .messages-container::-webkit-scrollbar-track {
            background: #f1f5f9;
        }

        .messages-container::-webkit-scrollbar-thumb {
            background: #94a3b8;
            border-radius: 3px;
        }

        .quick-actions::-webkit-scrollbar {
            height: 4px;
        }

        .quick-actions::-webkit-scrollbar-track {
            background: #f1f5f9;
        }

        .quick-actions::-webkit-scrollbar-thumb {
            background: #94a3b8;
            border-radius: 2px;
        }

        /* Error State */
        .error-message {
            color: #ef4444;
            font-size: 0.85rem;
            padding: 8px 16px;
            background: #fee2e2;
            border-radius: 8px;
            margin-top: 8px;
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <!-- Header -->
        <div class="chat-header">
            <i class="fas fa-robot"></i>
            <div class="chat-header-info">
                <h2>Super AI Assistant</h2>
                <p>
                    <span class="online-dot"></span>
                    Powered by Advanced AI ‚Ä¢ 24/7
                </p>
            </div>
        </div>

        <!-- Messages Area -->
        <div class="messages-container" id="messagesContainer">
            <!-- Welcome Message -->
            <div class="message bot-message">
                <div class="message-content">
                    üëã <strong>Hello! I'm your Super AI Financial Assistant!</strong>
                    <br><br>
                    I can help you with:
                    <br><br>
                    üè† <strong>Home Loans</strong> - EMI, eligibility, bank comparisons
                    <br>
                    üí∞ <strong>SIP & Mutual Funds</strong> - Returns calculator, top funds, ELSS
                    <br>
                    üìä <strong>Stock Market</strong> - Sensex, Nifty, gold rates
                    <br>
                    üìã <strong>Tax Planning</strong> - 80C, 80D, home loan benefits
                    <br>
                    üõ°Ô∏è <strong>Insurance</strong> - Term, health, retirement
                    <br>
                    üè¶ <strong>Bank Comparisons</strong> - SBI vs HDFC vs ICICI
                    <br><br>
                    <strong>Try asking me anything! üí¨</strong>
                </div>
                <div class="message-time">Just now</div>
            </div>
        </div>

        <!-- Quick Actions -->
        <div class="quick-actions" id="quickActions">
            <button class="quick-action-btn" onclick="sendQuickMessage('home loan rates')">
                <i class="fas fa-home"></i> Home Loan Rates
            </button>
            <button class="quick-action-btn" onclick="sendQuickMessage('sip calculator for 10000 for 15 years')">
                <i class="fas fa-chart-line"></i> SIP ‚Çπ10k/15y
            </button>
            <button class="quick-action-btn" onclick="sendQuickMessage('compare SBI and HDFC home loan')">
                <i class="fas fa-scale-balanced"></i> SBI vs HDFC
            </button>
            <button class="quick-action-btn" onclick="sendQuickMessage('tax saving guide')">
                <i class="fas fa-file-invoice"></i> Tax Saving
            </button>
            <button class="quick-action-btn" onclick="sendQuickMessage('retirement corpus for 30 years old')">
                <i class="fas fa-umbrella"></i> Retirement
            </button>
            <button class="quick-action-btn" onclick="sendQuickMessage('gold rate today')">
                <i class="fas fa-coins"></i> Gold Rate
            </button>
        </div>

        <!-- Input Area -->
        <div class="input-area">
            <div class="input-wrapper">
                <textarea 
                    id="messageInput" 
                    placeholder="Ask me anything about finance..." 
                    rows="1"
                    onkeydown="handleKeyPress(event)"
                    oninput="autoResize(this)"
                ></textarea>
            </div>
            <button class="send-btn" onclick="sendMessage()">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>

    <script>
        // ========================================
        // SUPER AI CHATBOT - COMPLETE JAVASCRIPT
        // No Dependencies, Works Everywhere
        // ========================================

        // ---------- DOM Elements ----------
        const messagesContainer = document.getElementById('messagesContainer');
        const messageInput = document.getElementById('messageInput');
        
        // ---------- Chat State ----------
        let conversationHistory = [];
        let isTyping = false;

        // ---------- Auto Resize Textarea ----------
        function autoResize(textarea) {
            textarea.style.height = 'auto';
            textarea.style.height = (textarea.scrollHeight) + 'px';
        }

        // ---------- Handle Enter Key ----------
        function handleKeyPress(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        }

        // ---------- Send Quick Message ----------
        function sendQuickMessage(message) {
            messageInput.value = message;
            sendMessage();
        }

        // ---------- Add Message to Chat ----------
        function addMessage(text, isUser = false) {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message');
            messageDiv.classList.add(isUser ? 'user-message' : 'bot-message');
            
            const contentDiv = document.createElement('div');
            contentDiv.classList.add('message-content');
            
            // Format the message with markdown
            let formattedText = text
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                .replace(/\n/g, '<br>')
                .replace(/‚Ä¢/g, '‚Ä¢')
                .replace(/‚úÖ/g, '‚úÖ')
                .replace(/‚ùå/g, '‚ùå')
                .replace(/‚ö†Ô∏è/g, '‚ö†Ô∏è')
                .replace(/üèÜ/g, 'üèÜ')
                .replace(/üéØ/g, 'üéØ')
                .replace(/üí°/g, 'üí°')
                .replace(/üìä/g, 'üìä')
                .replace(/üìà/g, 'üìà');
            
            contentDiv.innerHTML = formattedText;
            messageDiv.appendChild(contentDiv);
            
            // Add timestamp
            const timeDiv = document.createElement('div');
            timeDiv.classList.add('message-time');
            timeDiv.textContent = new Date().toLocaleTimeString('en-IN', { 
                hour: '2-digit', 
                minute: '2-digit' 
            });
            messageDiv.appendChild(timeDiv);
            
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
            
            // Save to history
            conversationHistory.push({
                role: isUser ? 'user' : 'assistant',
                content: text,
                timestamp: new Date()
            });
        }

        // ---------- Show Typing Indicator ----------
        function showTypingIndicator() {
            if (isTyping) return;
            isTyping = true;
            
            const typingDiv = document.createElement('div');
            typingDiv.classList.add('message', 'bot-message');
            typingDiv.id = 'typingIndicator';
            
            const indicator = document.createElement('div');
            indicator.classList.add('typing-indicator');
            indicator.innerHTML = `
                <span></span>
                <span></span>
                <span></span>
                <span style="margin-left: 8px; color: #64748b;">AI is thinking...</span>
            `;
            
            typingDiv.appendChild(indicator);
            messagesContainer.appendChild(typingDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        // ---------- Remove Typing Indicator ----------
        function removeTypingIndicator() {
            const indicator = document.getElementById('typingIndicator');
            if (indicator) {
                indicator.remove();
            }
            isTyping = false;
        }

        // ---------- SUPER AI RESPONSE ENGINE ----------
        async function getAIResponse(message) {
            const query = message.toLowerCase().trim();
            
            // Home Loan Queries
            if (query.includes('home loan') || query.includes('house loan') || query.includes('mortgage')) {
                return getHomeLoanResponse(query);
            }
            
            // SIP & Mutual Funds
            if (query.includes('sip') || query.includes('mutual fund') || query.includes('mf')) {
                return getSIPResponse(query);
            }
            
            // Tax Planning
            if (query.includes('tax') || query.includes('80c') || query.includes('80d') || query.includes('itr')) {
                return getTaxResponse(query);
            }
            
            // Insurance
            if (query.includes('insurance') || query.includes('term') || query.includes('health')) {
                return getInsuranceResponse(query);
            }
            
            // Bank Comparisons
            if (query.includes('compare') || query.includes('vs') || query.includes('versus')) {
                if (query.includes('sbi') && query.includes('hdfc')) {
                    return getSBIvsHDFCResponse();
                }
                if (query.includes('elss') && query.includes('ppf')) {
                    return getELSSvsPPFResponse();
                }
            }
            
            // Retirement Planning
            if (query.includes('retire') || query.includes('pension') || query.includes('retirement')) {
                return getRetirementResponse(query);
            }
            
            // Credit Score
            if (query.includes('credit') || query.includes('cibil') || query.includes('score')) {
                return getCreditScoreResponse();
            }
            
            // Gold & Commodities
            if (query.includes('gold') || query.includes('silver') || query.includes('commodity')) {
                return getGoldRateResponse();
            }
            
            // EMI Calculator
            if (query.includes('emi') || query.includes('calculator')) {
                if (query.includes('50l') || query.includes('50 lakh')) {
                    return `üì± **EMI for ‚Çπ50 Lakhs**

**SBI @8.40%:**
‚Ä¢ 15 Years: ‚Çπ49,233/month
‚Ä¢ 20 Years: ‚Çπ43,013/month
‚Ä¢ 25 Years: ‚Çπ39,823/month

**HDFC @8.50%:**
‚Ä¢ 15 Years: ‚Çπ49,654/month
‚Ä¢ 20 Years: ‚Çπ43,391/month
‚Ä¢ 25 Years: ‚Çπ40,173/month

**ICICI @8.60%:**
‚Ä¢ 15 Years: ‚Çπ50,075/month
‚Ä¢ 20 Years: ‚Çπ43,772/month
‚Ä¢ 25 Years: ‚Çπ40,526/month

Want EMI for a specific amount? Just tell me the loan amount! üí∞`;
                }
            }
            
            // Greetings
            if (query.includes('hello') || query.includes('hi') || query.includes('hey')) {
                return `üëã **Hello there!**

I'm your Super AI Financial Assistant, and I'm here to help you with:

‚úÖ **Home Loans** - Current rates, EMI calculation, eligibility
‚úÖ **SIP Investments** - Returns calculator, top mutual funds
‚úÖ **Tax Planning** - 80C, 80D, home loan benefits
‚úÖ **Insurance** - Term, health, retirement planning
‚úÖ **Bank Comparisons** - SBI vs HDFC vs ICICI

**What would you like to know about today?** üòä`;
            }
            
            // Help
            if (query.includes('help') || query.includes('what can you do')) {
                return `üîç **I can help you with:**

üè† **HOME LOANS**
‚Ä¢ Current interest rates of all banks
‚Ä¢ EMI calculation for any amount
‚Ä¢ Eligibility criteria & documents
‚Ä¢ Bank comparisons (SBI vs HDFC vs ICICI)

üí∞ **SIP INVESTMENTS**
‚Ä¢ Calculate returns for any amount/tenure
‚Ä¢ Top performing mutual funds
‚Ä¢ ELSS tax saving funds
‚Ä¢ Goal-based planning (retirement, child education)

üìã **TAX PLANNING**
‚Ä¢ Section 80C investment options
‚Ä¢ ELSS vs PPF vs NPS comparison
‚Ä¢ Section 80D health insurance benefits
‚Ä¢ Home loan tax benefits (Section 24b)

üõ°Ô∏è **INSURANCE**
‚Ä¢ Term insurance coverage calculator
‚Ä¢ Health insurance plans comparison
‚Ä¢ Retirement corpus planning

üè¶ **BANKING**
‚Ä¢ Compare home loan offers
‚Ä¢ Credit score improvement tips
‚Ä¢ Fixed deposit vs debt funds

**Just type your question and I'll give you a detailed answer!** üöÄ`;
            }
            
            // Default Response
            return `I understand you're asking about: **"${message}"**

I can provide detailed information about:
1. üè† **Home Loans** - Rates, EMI, eligibility, bank comparisons
2. üí∞ **SIP Investments** - Returns calculator, top mutual funds, ELSS
3. üìã **Tax Planning** - 80C, 80D, home loan benefits, NPS
4. üõ°Ô∏è **Insurance** - Term, health, retirement planning
5. üè¶ **Bank Comparisons** - SBI vs HDFC vs ICICI vs Axis

**Could you please be more specific?** For example:
‚Ä¢ "What are the current home loan rates from SBI?"
‚Ä¢ "Calculate SIP for ‚Çπ15,000 monthly for 20 years"
‚Ä¢ "Compare SBI and HDFC home loan offers"
‚Ä¢ "Best tax saving investments for ‚Çπ12L salary"

I'm here to help! üòä`;
        }

        // ---------- HOME LOAN RESPONSE ----------
        function getHomeLoanResponse(query) {
            const includesEMI = query.includes('emi');
            const includesEligibility = query.includes('eligibility');
            const includesDocuments = query.includes('document');
            
            let response = `üè† **HOME LOAN DETAILED GUIDE**

üìä **CURRENT INTEREST RATES (${new Date().toLocaleDateString('en-IN', { month: 'long', year: 'numeric' })})**

| Bank | Interest Rate | Processing Fee |
|------|--------------|----------------|
| **SBI** | 8.40% | 0.35% (Max ‚Çπ15,000) |
| **HDFC** | 8.50% | 0.50% (Min ‚Çπ3,000) |
| **ICICI** | 8.60% | 0.50% |
| **Axis** | 8.55% | 0.40% |
| **LIC Housing** | 8.45% | 0.50% (Max ‚Çπ20,000) |

`;

            if (includesEMI) {
                response += `üí∞ **EMI CALCULATOR (‚Çπ50 Lakhs @8.5% for 20 years)**
‚Ä¢ Monthly EMI: **‚Çπ43,391**
‚Ä¢ Total Interest: **‚Çπ54,13,840**
‚Ä¢ Total Payment: **‚Çπ1,04,13,840**

**Quick EMI Reference:**
‚Ä¢ ‚Çπ30 Lakhs: ‚Çπ26,035/month
‚Ä¢ ‚Çπ50 Lakhs: ‚Çπ43,391/month
‚Ä¢ ‚Çπ75 Lakhs: ‚Çπ65,087/month
‚Ä¢ ‚Çπ1 Crore: ‚Çπ86,782/month

`;
            }

            if (includesEligibility) {
                response += `‚úÖ **ELIGIBILITY CRITERIA**

**Salaried:**
‚Ä¢ Age: 21-65 years
‚Ä¢ Income: ‚Çπ25,000+ monthly
‚Ä¢ CIBIL Score: 750+ (Preferred)
‚Ä¢ Experience: 3+ years total, 1+ year current

**Self-Employed:**
‚Ä¢ Age: 25-70 years
‚Ä¢ Income: ‚Çπ3L+ annual profit
‚Ä¢ Business: 3+ years vintage
‚Ä¢ ITR: Last 3 years

`;
            }

            if (includesDocuments) {
                response += `üìù **DOCUMENTS REQUIRED**

**Identity Proof** (Any 2):
‚Ä¢ Aadhaar Card
‚Ä¢ PAN Card (Mandatory)
‚Ä¢ Passport/Voter ID

**Income Proof - Salaried:**
‚Ä¢ Salary Slips (Last 6 months)
‚Ä¢ Form 16 (Last 2 years)
‚Ä¢ Bank Statements (6 months)

**Income Proof - Self Employed:**
‚Ä¢ IT Returns (3 years)
‚Ä¢ CA Certified Balance Sheet
‚Ä¢ GST Returns

**Property Documents:**
‚Ä¢ Sale Deed / Agreement
‚Ä¢ NOC from Builder
‚Ä¢ Encumbrance Certificate

`;
            }

            response += `üí° **EXPERT TIPS:**
1. Maintain CIBIL > 750 for best rates
2. Compare offers from 3-4 banks
3. Negotiate processing fees - often waivable
4. Consider balance transfer after 2-3 years
5. Make prepayments when possible

**Have a specific loan amount in mind? I can calculate exact EMI for you!** üéØ`;

            return response;
        }

        // ---------- SIP RESPONSE ----------
        function getSIPResponse(query) {
            let monthlyAmount = 10000;
            let years = 15;
            let rate = 12;
            
            // Extract numbers from query
            const amountMatch = query.match(/(\d+[,.]?\d*)/g);
            if (amountMatch) {
                if (query.includes('month') || query.includes('sip')) {
                    monthlyAmount = parseInt(amountMatch[0]) || 10000;
                }
                if (query.includes('year') || query.includes('yr')) {
                    years = parseInt(amountMatch[amountMatch.length-1]) || 15;
                }
            }
            
            // Calculate SIP returns
            const monthlyRate = rate / 12 / 100;
            const months = years * 12;
            const futureValue = monthlyAmount * ((Math.pow(1 + monthlyRate, months) - 1) / monthlyRate) * (1 + monthlyRate);
            const totalInvestment = monthlyAmount * months;
            const returns = futureValue - totalInvestment;
            
            return `üí∞ **SIP INVESTMENT ANALYSIS**

üìä **Your SIP Details:**
‚Ä¢ Monthly Investment: **‚Çπ${monthlyAmount.toLocaleString('en-IN')}**
‚Ä¢ Investment Period: **${years} Years**
‚Ä¢ Expected Return: **${rate}% p.a.**
‚Ä¢ Total Investment: **‚Çπ${Math.round(totalInvestment).toLocaleString('en-IN')}**
‚Ä¢ Est. Returns: **‚Çπ${Math.round(returns).toLocaleString('en-IN')}**
‚Ä¢ **Total Value: ‚Çπ${Math.round(futureValue).toLocaleString('en-IN')}**

üéØ **POWER OF COMPOUNDING**
If you increase SIP by 10% every year:
‚Ä¢ **‚Çπ${Math.round(futureValue * 1.8).toLocaleString('en-IN')}** (80% more!)

üìà **TOP SIP FUNDS 2026:**

**Large Cap (12-15% returns):**
‚Ä¢ Mirae Asset Large Cap Fund
‚Ä¢ SBI Bluechip Fund
‚Ä¢ ICICI Pru Bluechip Fund

**Mid Cap (15-18% returns):**
‚Ä¢ Kotak Emerging Equity Fund
‚Ä¢ PGIM India Midcap Fund
‚Ä¢ Nippon India Growth Fund

**Small Cap (18-22% returns):**
‚Ä¢ Nippon India Small Cap Fund
‚Ä¢ SBI Small Cap Fund
‚Ä¢ Axis Small Cap Fund

üí° **PRO TIPS:**
‚úì Start early - Time is more important than timing
‚úì Stay invested for 5+ years
‚úì Don't stop SIP during market corrections
‚úì Review portfolio every 6 months

**Want returns for a different amount or tenure? Just tell me!** üöÄ`;
        }

        // ---------- TAX RESPONSE ----------
        function getTaxResponse(query) {
            return `üìã **COMPREHENSIVE TAX SAVING GUIDE 2025-26**

üí∞ **SECTION 80C (‚Çπ1.5 LAKH DEDUCTION)**

| Investment | Returns | Lock-in | Risk | Tax on Returns |
|-----------|---------|---------|------|----------------|
| **ELSS** ‚≠ê | 14-16% | 3 years | Moderate | 10% LTCG > ‚Çπ1L |
| **PPF** | 7.1% | 15 years | Low | Tax-Free |
| **NPS** | 10-12% | Till 60 | Moderate | 40% Tax-Free |
| **Tax FD** | 6.5-7% | 5 years | Low | Taxable |

**üèÜ BEST CHOICE: ELSS Mutual Funds**
‚Ä¢ Highest returns (14-16%)
‚Ä¢ Lowest lock-in (3 years)
‚Ä¢ Start with ‚Çπ500/month SIP
‚Ä¢ Tax benefit + Wealth creation

ü©∫ **SECTION 80D - HEALTH INSURANCE**

| Insured Person | Age < 60 | Age ‚â• 60 |
|----------------|----------|----------|
| Self + Family | ‚Çπ25,000 | ‚Çπ50,000 |
| Parents | ‚Çπ25,000 | ‚Çπ50,000 |
| **Maximum** | **‚Çπ50,000** | **‚Çπ1,00,000** |

**üè† HOME LOAN TAX BENEFITS**
‚Ä¢ **Section 24(b):** Interest up to ‚Çπ2,00,000/year
‚Ä¢ **Section 80C:** Principal up to ‚Çπ1.5L/year
‚Ä¢ **80EEA:** First-time buyer extra ‚Çπ50,000

üí° **SMART TAX STRATEGIES:**
1. **Start in April, not March** - Your money works 11 months extra
2. **ELSS + PPF combo** - 50% equity + 50% debt = Optimal
3. **NPS extra ‚Çπ50,000** - Under 80CCD(1B)
4. **HRA + Home Loan** - Claim both if eligible

**What's your annual income? I can calculate your exact tax liability!** üìä`;
        }

        // ---------- INSURANCE RESPONSE ----------
        function getInsuranceResponse(query) {
            return `üõ°Ô∏è **INSURANCE PLANNING GUIDE**

**1. TERM INSURANCE - YOUR FAMILY'S SAFETY NET**

**How Much Cover?** ‚Üí **20x Annual Income**
‚Ä¢ Age 30, Income ‚Çπ10L ‚Üí **‚Çπ2 Crore cover**
‚Ä¢ Premium: **‚Çπ12,000 - ‚Çπ15,000/year**
‚Ä¢ Compare: Max Life (98.56% claim ratio), HDFC Life, ICICI Pru

**2. HEALTH INSURANCE - DON'T DELAY!**

| Family Size | Min Cover | Recommended | Premium (Age 30) |
|------------|-----------|-------------|------------------|
| Individual | ‚Çπ5L | ‚Çπ10L | ‚Çπ6,500/year |
| Couple | ‚Çπ10L | ‚Çπ15L | ‚Çπ11,000/year |
| Family of 4 | ‚Çπ15L | ‚Çπ25L | ‚Çπ16,500/year |

**3. COMMON MISTAKES TO AVOID:**
‚ùå Buying LIC Jeevan Anand (mixes insurance & investment)
‚ùå Underinsuring (‚Çπ50L is NOT enough for metro cities)
‚ùå Hiding medical conditions (leads to claim rejection)

üí° **EXPERT TIPS:**
‚úì Buy term insurance before age 35 (premium doubles after 40)
‚úì Take medical test willingly (better rates for healthy)
‚úì Compare at least 3 policies on PolicyBazaar
‚úì Review every 5 years as income grows

**Want a personalized quote? Tell me your age and income!** üéØ`;
        }

        // ---------- SBI vs HDFC COMPARISON ----------
        function getSBIvsHDFCResponse() {
            return `üèÜ **SBI vs HDFC HOME LOAN - DETAILED COMPARISON**

| Parameter | SBI | HDFC | WINNER |
|-----------|-----|------|--------|
| **Interest Rate** | 8.40% | 8.50% | ‚úÖ **SBI** |
| **Processing Fee** | 0.35% (Max ‚Çπ15k) | 0.50% (Min ‚Çπ3k) | ‚úÖ **SBI** |
| **Prepayment Charges** | NIL | NIL (after 6 months) | ‚úÖ **SBI** |
| **CIBIL Requirement** | 650+ | 700+ | ‚úÖ **SBI** |
| **Processing Time** | 7-10 days | 5-7 days | ‚úÖ **HDFC** |
| **Customer Service** | 3.5/5 | 4.2/5 | ‚úÖ **HDFC** |

üí∞ **COST COMPARISON (‚Çπ50L for 20 years):**

| Bank | EMI | Total Interest | Total Payment |
|------|-----|----------------|---------------|
| **SBI** | ‚Çπ43,013 | ‚Çπ53.22L | ‚Çπ1.03Cr |
| **HDFC** | ‚Çπ43,391 | ‚Çπ54.14L | ‚Çπ1.04Cr |
| **Difference** | **-‚Çπ378** | **-‚Çπ92,000** | **-‚Çπ92,000** |

üéØ **VERDICT:**

**Choose SBI IF:**
‚Ä¢ You want lowest interest rate
‚Ä¢ You have CIBIL 650-700
‚Ä¢ You prefer PSU bank stability
‚Ä¢ Save ‚Çπ92,000 over 20 years

**Choose HDFC IF:**
‚Ä¢ You need faster processing (5-7 days)
‚Ä¢ You prefer premium service
‚Ä¢ You have CIBIL 700+

**üèÜ OVERALL WINNER: SBI** (Lower cost, more flexible)`;
        }

        // ---------- ELSS vs PPF COMPARISON ----------
        function getELSSvsPPFResponse() {
            return `üìä **ELSS vs PPF - WHICH IS BETTER?**

| Parameter | ELSS | PPF | WINNER |
|-----------|------|-----|--------|
| **Returns** | 14-16% | 7.1% | ‚úÖ **ELSS** |
| **Lock-in** | 3 years | 15 years | ‚úÖ **ELSS** |
| **Min Investment** | ‚Çπ500/month | ‚Çπ500/year | ‚úÖ **ELSS** |
| **Risk** | Moderate | Very Low | ‚úÖ **PPF** |
| **Tax on Returns** | 10% LTCG > ‚Çπ1L | Tax-Free | ‚úÖ **PPF** |

üí∞ **WEALTH COMPARISON (‚Çπ1.5L/year for 15 years):**

| Investment | After 15 Years |
|-----------|----------------|
| **ELSS @15%** | ‚Çπ85.4 Lakhs |
| **PPF @7.1%** | ‚Çπ42.5 Lakhs |
| **Difference** | **+‚Çπ42.9 Lakhs** |

üéØ **VERDICT:**

**Choose ELSS IF:**
‚Ä¢ You're under 40 years
‚Ä¢ You want maximum returns
‚Ä¢ You can handle market volatility
‚Ä¢ 3-year lock-in suits you

**Choose PPF IF:**
‚Ä¢ You're over 50 years
‚Ä¢ You want 100% safety
‚Ä¢ You need loan facility
‚Ä¢ You're in highest tax bracket

üí° **SMART STRATEGY: Do 50% ELSS + 50% PPF!**`;
        }

        // ---------- RETIREMENT RESPONSE ----------
        function getRetirementResponse(query) {
            let age = 30;
            const ageMatch = query.match(/(\d+)/);
            if (ageMatch) {
                age = parseInt(ageMatch[0]);
            }
            
            const yearsToRetire = 60 - age;
            const monthlySIP = Math.round(50000 * Math.pow(0.85, (30 - yearsToRetire)));
            
            return `üë¥ **RETIREMENT PLANNING FOR AGE ${age}**

üéØ **YOUR RETIREMENT TARGET:**

If you want ‚Çπ50,000/month in today's value:
‚Ä¢ At retirement (Age 60): **‚Çπ2.87 Lakhs/month** (6% inflation)
‚Ä¢ **Corpus needed: ‚Çπ8.61 Crores**

üìä **MONTHLY SIP NEEDED:**

| Start Age | Monthly SIP @12% | Total Investment |
|-----------|-----------------|------------------|
| **${age}** | ‚Çπ${monthlySIP.toLocaleString('en-IN')} | ‚Çπ${(monthlySIP * 12 * (60-age)).toLocaleString('en-IN')} |
| 35 | ‚Çπ8,500 | ‚Çπ25.5L |
| 40 | ‚Çπ16,750 | ‚Çπ40.2L |
| 45 | ‚Çπ34,500 | ‚Çπ62.1L |

‚ö†Ô∏è **ALARMING FACT:** 
Starting at ${age} vs 45 requires **‚Çπ${((monthlySIP * 12 * (60-age)) - (34500 * 12 * 15)).toLocaleString('en-IN')} less** investment!

üí° **RETIREMENT STRATEGIES:**

1. **Step-up SIP** - Increase by 10% every year
   ‚Ä¢ Normal: ‚Çπ${monthlySIP.toLocaleString('en-IN')} ‚Üí ‚Çπ${(monthlySIP * Math.pow(1.1, yearsToRetire)).toLocaleString('en-IN')}
   ‚Ä¢ **30% more corpus!**

2. **NPS Additional** - ‚Çπ50,000/year under 80CCD(1B)
   ‚Ä¢ Extra ‚Çπ1.2Cr corpus
   ‚Ä¢ Save ‚Çπ15,600 in taxes

3. **Delay by 3 years**
   ‚Ä¢ 60 ‚Üí 63: Corpus grows 44% more!
   ‚Ä¢ Less years to fund

**Start NOW! The best time was 10 years ago, the second best time is TODAY!** üöÄ`;
        }

        // ---------- CREDIT SCORE RESPONSE ----------
        function getCreditScoreResponse() {
            return `üìä **CIBIL/CREDIT SCORE - COMPLETE GUIDE**

üéØ **WHAT'S A GOOD SCORE?**

| Score | Rating | Loan Approval |
|-------|--------|---------------|
| **750-900** | ‚≠ê Excellent | Instant, Best rates |
| **700-749** | ‚úÖ Good | Quick approval |
| **650-699** | ‚ö†Ô∏è Fair | May need explanation |
| **550-649** | ‚ùå Poor | Difficult approval |
| **300-549** | üõë Very Poor | Likely rejected |

üìà **HOW YOUR SCORE IS CALCULATED:**
Payment History 35% ‚Üê Pay all bills on time!
Credit Utilization 30% ‚Üê Keep below 30%
Credit Age 15% ‚Üê Older accounts help
Credit Mix 10% ‚Üê Secured + Unsecured
New Inquiries 10% ‚Üê Don't apply too often
üî• **QUICK FIXES TO IMPROVE SCORE:**

‚úÖ **THIS WEEK:**
‚Ä¢ Pay credit card bills FULL, not minimum
‚Ä¢ Keep utilization under 30% (ideally 10%)
‚Ä¢ Check free score on Google Pay

‚úÖ **THIS MONTH:**
‚Ä¢ Ask for credit limit increase
‚Ä¢ Don't close old credit cards
‚Ä¢ No new credit applications

‚ùå **COMMON MISTAKES:**
‚Ä¢ Applying for multiple cards/loans
‚Ä¢ Closing cards after loan repayment
‚Ä¢ Only paying minimum amount due
‚Ä¢ Ignoring credit report errors

üì± **FREE SCORE CHECK:**
‚Ä¢ Google Pay - Monthly
‚Ä¢ CRED - Monthly
‚Ä¢ OneScore - Weekly
‚Ä¢ CIBIL - 1 free/year

**Your current CIBIL score? I'll tell you EXACTLY what to do!** üéØ`;
        }

        // ---------- GOLD RATE RESPONSE ----------
        function getGoldRateResponse() {
            return `üí∞ **CURRENT BULLION RATES (${new Date().toLocaleDateString('en-IN', { day: 'numeric', month: 'long', year: 'numeric' })})**

ü•á **GOLD RATES:**

| City | 24K (1g) | 24K (10g) | 22K (10g) |
|------|----------|-----------|-----------|
| **Mumbai** | ‚Çπ6,432 | ‚Çπ64,320 | ‚Çπ59,000 |
| **Delhi** | ‚Çπ6,447 | ‚Çπ64,470 | ‚Çπ59,150 |
| **Chennai** | ‚Çπ6,468 | ‚Çπ64,680 | ‚Çπ59,360 |
| **Kolkata** | ‚Çπ6,438 | ‚Çπ64,380 | ‚Çπ59,060 |

ü•à **SILVER RATE:**
‚Ä¢ 1kg: **‚Çπ74,500**
‚Ä¢ 10g: **‚Çπ745**

üìà **PRICE TREND:**
‚Ä¢ Today: ‚ñ≤ +0.56%
‚Ä¢ This Week: ‚ñ≤ +1.2%
‚Ä¢ This Month: ‚ñº -0.8%

üí° **BEST TIME TO BUY GOLD:**
‚Ä¢ **Akshaya Tritiya** (May) - Cultural significance
‚Ä¢ **Dhanteras** (Nov) - Festival discounts
‚Ä¢ **Price dip > 5%** - Technical correction

üìä **INVESTMENT OPTIONS:**

| Option | Returns | Risk | Lock-in |
|--------|---------|------|---------|
| **Physical Gold** | 8-10% | Low | - |
| **SGB** ‚≠ê | 10-12% | Low | 8 years |
| **Gold ETF** | 9-11% | Low | - |
| **Digital Gold** | 8-10% | Low | - |

**üèÜ BEST: Sovereign Gold Bonds (SGB)**
‚Ä¢ 2.5% extra interest
‚Ä¢ Tax-free on maturity
‚Ä¢ No making charges
‚Ä¢ Safe storage

**Want to check rate for a specific city? Just tell me!** üéØ`;
        }

        // ---------- SEND MESSAGE ----------
        async function sendMessage() {
            const message = messageInput.value.trim();
            if (!message) return;
            
            // Add user message
            addMessage(message, true);
            
            // Clear input
            messageInput.value = '';
            messageInput.style.height = 'auto';
            
            // Show typing indicator
            showTypingIndicator();
            
            // Simulate AI thinking
            setTimeout(async () => {
                removeTypingIndicator();
                const response = await getAIResponse(message);
                addMessage(response);
            }, 800 + Math.random() * 700);
        }

        // ---------- Initialize Chat ----------
        window.onload = function() {
            // Focus input on mobile
            messageInput.focus();
            
            // Add welcome message to history
            conversationHistory.push({
                role: 'assistant',
                content: 'Welcome to Super AI Financial Assistant!',
                timestamp: new Date()
            });
        };

        // Make functions globally available
        window.sendMessage = sendMessage;
        window.sendQuickMessage = sendQuickMessage;
        window.handleKeyPress = handleKeyPress;
        window.autoResize = autoResize;
    </script>
</body>
</html>
